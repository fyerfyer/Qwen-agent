# ResearchBot Pro Requirements
# Optimized for Ubuntu 20.04.6 LTS, Python 3.10.11, CUDA 12.4, Tesla T4
# Note: PyTorch 2.5.1+cu124 is already installed globally on the system

# Core ML and AI Libraries (Using existing PyTorch installation)
# torch==2.5.1+cu124  # SKIP - Using system installation
# torchvision==0.20.1+cu124  # SKIP - Using system installation  
# torchaudio==2.5.1+cu124  # SKIP - Using system installation
# --find-links https://download.pytorch.org/whl/torch_stable.html  # SKIP

# Transformers ecosystem
transformers==4.46.2
accelerate==1.1.1
tokenizers==0.20.3
safetensors==0.4.5

# vLLM for efficient inference (Tesla T4 optimized)
# Note: You confirmed vLLM 0.6.3.post1 works with your PyTorch 2.5.1+cu124
vllm==0.6.3.post1

# Quantization libraries (Tesla T4 compatible)
# Note: autoawq conflicts with PyTorch 2.5.1+cu124, but vLLM has built-in AWQ support
bitsandbytes==0.44.1
auto-gptq==0.7.1
# autoawq==0.2.6  # SKIP - Requires torch==2.3.1, conflicts with your PyTorch 2.5.1+cu124

# Agent framework (using version that works with current Pillow)
smolagents>=1.0.0

# UI Framework (updated to work with Pillow 11.0+)
gradio>=4.45.0  # Newer version compatible with Pillow 11.0+
fastapi>=0.115.0,<0.116.0
uvicorn[standard]>=0.32.0,<0.33.0

# Research and web tools
requests==2.32.3
beautifulsoup4==4.12.3
arxiv==2.1.3
pandas==2.2.3
numpy==1.26.4
scipy==1.14.1
duckduckgo-search==6.3.2
markdownify==0.13.1
lxml==5.3.0

# Visualization (updated for smolagents compatibility)
matplotlib>=3.9.2
plotly>=5.24.1
seaborn>=0.13.2
Pillow>=11.0.0  # Required by smolagents>=1.0.0

# Configuration and utilities
pyyaml==6.0.2
python-dotenv==1.0.1
redis==5.2.0
hiredis==3.0.0

# Performance monitoring
psutil==6.1.0
GPUtil==1.4.0
nvidia-ml-py==12.560.30
py3nvml==0.2.7

# Security and encryption
cryptography==43.0.3
pydantic==2.9.2

# Async support
aiohttp==3.10.10
asyncio-throttle==1.0.2
aiofiles==23.2.0  # Compatible with gradio 4.44.1 (requires aiofiles<24.0)

# HTTP and API clients
httpx==0.27.2
urllib3==2.2.3

# Development and testing
pytest==8.3.3
pytest-asyncio==0.24.0
black==24.10.0
flake8==7.1.1
isort==5.13.2

# Documentation and markdown
sphinx==8.1.3
sphinx-rtd-theme==3.0.1
markdown==3.7
rich==13.9.4

# Data formats and serialization
jsonlines==4.0.0
orjson==3.10.11
msgpack==1.1.0

# Hugging Face ecosystem (using compatible versions)
huggingface-hub>=0.31.2  # Required by smolagents, compatible with transformers
datasets>=3.1.0

# Additional utilities for research
python-dateutil==2.9.0.post0
tqdm==4.66.6
click==8.1.7
typer==0.12.5

# Rate limiting and caching
slowapi==0.1.9
cachetools==5.5.0

# Session management
itsdangerous==2.2.0

# Cloud Server Optimizations
# Tesla T4 specific memory and performance optimizations
optimum>=1.22.0  # Model optimization (removed GPU constraint)
# onnxruntime-gpu==1.19.2  # SKIP - Large download, not essential for core functionality

# Ubuntu 20.04 compatibility fixes  
setuptools==75.6.0
wheel==0.45.0
pip==24.3.1

# INSTALLATION INSTRUCTIONS (Ubuntu 20.04, PyTorch 2.5.1+cu124):
#
# Fixed dependency conflicts (Task 2-5):
# 1. Removed autoawq==0.2.6 (conflicted with PyTorch 2.5.1+cu124)  
# 2. Fixed aiofiles: 24.1.0 -> 23.2.0 (compatible with gradio)
# 3. Updated huggingface-hub: 0.26.2 -> >=0.31.2 (required by smolagents)
# 4. Updated Pillow: 10.4.0 -> >=11.0.0 (required by smolagents>=1.0.0)
# 5. Updated gradio: 4.44.1 -> >=4.45.0 (compatible with Pillow 11.0+)
#
# RECOMMENDED INSTALLATION:
# pip install --upgrade pip setuptools wheel
# pip install -r requirements.txt
# 
# VERIFICATION:
# python -c "import torch, vllm, gradio, smolagents; print('âœ… All packages imported successfully')"
#
# Note: smolagents>=1.0.0 requires newer versions of Pillow and huggingface-hub